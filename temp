

{
  "messaging_product": "whatsapp",
  "to": "PHONE_NUMBER", 
  "type": "interactive",
  "interactive": {
    "type": "flow",
    "flow": {
      "id": "MAINSCREEN",
      "namespace": "YOUR_FLOW_NAMESPACE",
      "language": {
        "code": "en_US"
      },
      "parameters": [
        {
          "name": "dynamic_title",
          "type": "text",
          "text": "Question 1 of 1"
        },
        {
          "name": "dynamic_heading",
          "type": "text",
          "text": "Provide the valid Passport or Emirates ID of the cheque book receiver"
        }
      ]
    }
  }
}



{
  "version": "7.2",
  "data_api_version": "3.0",
  "routing_model": {
    "MAINSCREEN": []
  },
  "screens": [
    {
      "id": "MAINSCREEN",
      "terminal": true,
      "title": "${dynamic_title}",
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "Form",
            "name": "flow_path",
            "children": [
              {
                "type": "TextHeading",
                "text": "${dynamic_heading}"
              },
              {
                "type": "TextInput",
                "name": "user_text",
                "label": "Your Input",
                "required": true
              },
              {
                "type": "DocumentPicker",
                "name": "document_picker",
                "label": "Upload Document",
                "description": "Supported format: PDF, JPEG, PNG, TIF, MSG",
                "min-uploaded-documents": 1,
                "max-uploaded-documents": 1,
                "max-file-size-kb": 10240,
                "allowed-mime-types": [
                  "image/jpeg",
                  "image/tiff",
                  "application/pdf"
                ]
              },
              {
                "type": "Footer",
                "label": "Submit",
                "on-click-action": {
                  "name": "complete",
                  "payload": {
                    "text": "${form.user_text}",
                    "documents": "${form.document_picker}"
                  }
                }
              }
            ]
          }
        ]
      }
    }
  ]
}



curl -X POST '{BASE-URL}/{WABA-ID}/flows' \
--header 'Authorization: Bearer {ACCESS-TOKEN}' \
--header "Content-Type: application/json" \
--data '{
  "name": "My first flow",
  "categories": [ "OTHER" ],
  "flow_json" : "{\"version\":\"5.0\",\"screens\":[{\"id\":\"WELCOME_SCREEN\",\"layout\":{\"type\":\"SingleColumnLayout\",\"children\":[{\"type\":\"TextHeading\",\"text\":\"Hello World\"},{\"type\":\"Footer\",\"label\":\"Complete\",\"on-click-action\":{\"name\":\"complete\",\"payload\":{}}}]},\"title\":\"Welcome\",\"terminal\":true,\"success\":true,\"data\":{}}]}",
  "publish" : true
}'
